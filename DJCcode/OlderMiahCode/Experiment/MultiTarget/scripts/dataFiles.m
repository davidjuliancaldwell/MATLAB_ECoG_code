function [odir, hemi, bads, prefix, files] = dataFiles(subjid, targCount)
    if (nargin < 2)
        targCount = -1;
    end
        
        
    if(strcmp(subjid,'fc9643'))
        [odir, hemi, bads, prefix, files] = doFC9643(targCount);
    elseif(strcmp(subjid,'38e116'))
        [odir, hemi, bads, prefix, files] = do38E116(targCount);
    else
        error('subjid not found');
    end
end
    
function [odir, hemi, bads, prefix, files] = doFC9643(targCount)
    %% make the dataset for fc
    odir = fullfile(pwd, 'fc');
    hemi = 'r';

    bads = [58 61 62 63 64 73 75 95 96 97:104];

    if (~exist('targCount', 'var') || targCount == -1)
        prefix = 'fc-all-';
        files = {'d:\research\subjects\fc9643\data\D2\fc9643_ud_im_t001\fc9643_ud_im_tS001R01.dat', ...
        'd:\research\subjects\fc9643\data\D2\fc9643_ud_im_t001\fc9643_ud_im_tS001R02.dat', ...
        'd:\research\subjects\fc9643\data\D2\fc9643_ud_im_t001\fc9643_ud_im_tS001R03.dat', ...
        'd:\research\subjects\fc9643\data\D3\fc9643_ud_im_t001\fc9643_ud_im_tS001R01.dat', ...
        'd:\research\subjects\fc9643\data\D3\fc9643_ud_im_t001\fc9643_ud_im_tS001R02.dat', ...
        'd:\research\subjects\fc9643\data\D3\fc9643_ud_im_t001\fc9643_ud_im_tS001R03.dat', ...
        'd:\research\subjects\fc9643\data\D3\fc9643_ud_im_t001\fc9643_ud_im_tS001R04.dat', ...
        'd:\research\subjects\fc9643\data\D3\fc9643_ud_im_t001\fc9643_ud_im_tS001R05.dat', ...
        'd:\research\subjects\fc9643\data\D4\fc9643_ud_im_t001\fc9643_ud_im_tS001R01.dat', ...
        'd:\research\subjects\fc9643\data\D3\fc9643_ud_3targ001\fc9643_ud_3targS001R01.dat', ...
        'd:\research\subjects\fc9643\data\D3\fc9643_ud_3targ001\fc9643_ud_3targS001R02.dat', ...
        'd:\research\subjects\fc9643\data\D3\fc9643_ud_3targ001\fc9643_ud_3targS001R03.dat', ...
        'd:\research\subjects\fc9643\data\D4S2\fc9643_3targ001\fc9643_3targS001R01.dat', ...
        'd:\research\subjects\fc9643\data\D4S2\fc9643_3targ001\fc9643_3targS001R02.dat', ...
        'd:\research\subjects\fc9643\data\D3\fc9643_ud_5targ001\fc9643_ud_5targS001R01.dat', ...
        'd:\research\subjects\fc9643\data\D3\fc9643_ud_5targ001\fc9643_ud_5targS001R02.dat', ...
        'd:\research\subjects\fc9643\data\D3\fc9643_ud_5targ001\fc9643_ud_5targS001R03.dat', ...
        'd:\research\subjects\fc9643\data\D3\fc9643_ud_5targ001\fc9643_ud_5targS001R04.dat', ...
        'd:\research\subjects\fc9643\data\D3\fc9643_ud_5targ001\fc9643_ud_5targS001R05.dat', ...
        'd:\research\subjects\fc9643\data\D4S2\fc9643_5targ001\fc9643_5targS001R01.dat', ...
        'd:\research\subjects\fc9643\data\D4S2\fc9643_5targ001\fc9643_5targS001R02.dat', ...
        'd:\research\subjects\fc9643\data\D4S2\fc9643_5targ001\fc9643_5targS001R03.dat', ...
        'd:\research\subjects\fc9643\data\D4S2\fc9643_5targ001\fc9643_5targS001R04.dat', ...
        'd:\research\subjects\fc9643\data\D4S2\fc9643_5targ001\fc9643_5targS001R05.dat', ...
        'd:\research\subjects\fc9643\data\D4S2\fc9643_5targ001\fc9643_5targS001R06.dat', ...
        'd:\research\subjects\fc9643\data\D5\fc9643_5targ001\fc9643_5targS001R01.dat', ...
        'd:\research\subjects\fc9643\data\D5\fc9643_5targ001\fc9643_5targS001R02.dat'};        
    elseif (targCount==2)
        prefix = 'fc-2-';
        files = {{'d:\research\subjects\fc9643\data\D2\fc9643_ud_im_t001\fc9643_ud_im_tS001R01.dat', ...
        'd:\research\subjects\fc9643\data\D2\fc9643_ud_im_t001\fc9643_ud_im_tS001R02.dat', ...
        'd:\research\subjects\fc9643\data\D2\fc9643_ud_im_t001\fc9643_ud_im_tS001R03.dat', ...
        'd:\research\subjects\fc9643\data\D3\fc9643_ud_im_t001\fc9643_ud_im_tS001R01.dat', ...
        'd:\research\subjects\fc9643\data\D3\fc9643_ud_im_t001\fc9643_ud_im_tS001R02.dat', ...
        'd:\research\subjects\fc9643\data\D3\fc9643_ud_im_t001\fc9643_ud_im_tS001R03.dat', ...
        'd:\research\subjects\fc9643\data\D3\fc9643_ud_im_t001\fc9643_ud_im_tS001R04.dat', ...
        'd:\research\subjects\fc9643\data\D3\fc9643_ud_im_t001\fc9643_ud_im_tS001R05.dat', ...
        'd:\research\subjects\fc9643\data\D4\fc9643_ud_im_t001\fc9643_ud_im_tS001R01.dat'}};
    elseif (targCount==3)
        prefix = 'fc-3-';
        files = {{'d:\research\subjects\fc9643\data\D3\fc9643_ud_3targ001\fc9643_ud_3targS001R01.dat', ...
        'd:\research\subjects\fc9643\data\D3\fc9643_ud_3targ001\fc9643_ud_3targS001R02.dat', ...
        'd:\research\subjects\fc9643\data\D3\fc9643_ud_3targ001\fc9643_ud_3targS001R03.dat', ...
        'd:\research\subjects\fc9643\data\D4S2\fc9643_3targ001\fc9643_3targS001R01.dat', ...
        'd:\research\subjects\fc9643\data\D4S2\fc9643_3targ001\fc9643_3targS001R02.dat', ...
        ...%'d:\research\subjects\fc9643\data\D5\fc9643_3targ001\fc9643_3targS001R01.dat', ...
        ...%'d:\research\subjects\fc9643\data\D5\fc9643_3targ001\fc9643_3targS001R02.dat', ...
        ...%'d:\research\subjects\fc9643\data\D5\fc9643_3targ001\fc9643_3targS001R03.dat', ...
        ...%'d:\research\subjects\fc9643\data\D5\fc9643_3targ001\fc9643_3targS001R04.dat' ...
        }};
    elseif (targCount==5)
        prefix = 'fc-5-';
        files = {{'d:\research\subjects\fc9643\data\D3\fc9643_ud_5targ001\fc9643_ud_5targS001R01.dat', ...
        'd:\research\subjects\fc9643\data\D3\fc9643_ud_5targ001\fc9643_ud_5targS001R02.dat', ...
        'd:\research\subjects\fc9643\data\D3\fc9643_ud_5targ001\fc9643_ud_5targS001R03.dat', ...
        'd:\research\subjects\fc9643\data\D3\fc9643_ud_5targ001\fc9643_ud_5targS001R04.dat', ...
        'd:\research\subjects\fc9643\data\D3\fc9643_ud_5targ001\fc9643_ud_5targS001R05.dat', ...
        'd:\research\subjects\fc9643\data\D4S2\fc9643_5targ001\fc9643_5targS001R01.dat', ...
        'd:\research\subjects\fc9643\data\D4S2\fc9643_5targ001\fc9643_5targS001R02.dat', ...
        'd:\research\subjects\fc9643\data\D4S2\fc9643_5targ001\fc9643_5targS001R03.dat', ...
        'd:\research\subjects\fc9643\data\D4S2\fc9643_5targ001\fc9643_5targS001R04.dat', ...
        'd:\research\subjects\fc9643\data\D4S2\fc9643_5targ001\fc9643_5targS001R05.dat', ...
        'd:\research\subjects\fc9643\data\D4S2\fc9643_5targ001\fc9643_5targS001R06.dat', ...
        'd:\research\subjects\fc9643\data\D5\fc9643_5targ001\fc9643_5targS001R01.dat', ...
        'd:\research\subjects\fc9643\data\D5\fc9643_5targ001\fc9643_5targS001R02.dat' ...
        }};
    else
        error('unknown target count entered');
    end
end

function [odir, hemi, bads, prefix, files] = do38E116(targCount)
    %% make the dataset for 38e116
    odir = fullfile(pwd, '38e116');
    hemi = 'r';
    bads = [34];
    
    if (~exist('targCount', 'var') || targCount == -1)
        prefix = '38e116-all-';
        files = {'d:\research\subjects\38e116\data\d1\38e116_ud_im_h001\38e116_ud_im_hS001R03.dat', ...
        'd:\research\subjects\38e116\data\d1\38e116_ud_im_h001\38e116_ud_im_hS001R04.dat', ...
        'd:\research\subjects\38e116\data\d1\38e116_ud_mot_h001\38e116_ud_mot_hS001R01.dat', ...
        'd:\research\subjects\38e116\data\d1\38e116_ud_mot_h001\38e116_ud_mot_hS001R02.dat', ...
        'd:\research\subjects\38e116\data\d1\38e116_ud_mot_h001\38e116_ud_mot_hS001R03.dat', ...
        'd:\research\subjects\38e116\data\d1\38e116_3targ001\38e116_3targS001R02.dat', ...
        'd:\research\subjects\38e116\data\d2\38e116_3targ_im001\38e116_3targ_imS001R02.dat', ...
        'd:\research\subjects\38e116\data\d3\38e116_3targ001\38e116_3targS001R02.dat' ...
        'd:\research\subjects\38e116\data\d1\38e116_5targ001\38e116_5targS001R01.dat', ...
        'd:\research\subjects\38e116\data\d1\38e116_5targ001\38e116_5targS001R03.dat', ...
        'd:\research\subjects\38e116\data\d3\38e116_5targ001\38e116_5targS001R04.dat' ...
        'd:\research\subjects\38e116\data\d1\38e116_6targ001\38e116_6targS001R01.dat', ...
        'd:\research\subjects\38e116\data\d1\38e116_6targ001\38e116_6targS001R03.dat', ...
        'd:\research\subjects\38e116\data\d2\38e116_6targ_im001\38e116_6targ_imS001R02.dat', ...
        'd:\research\subjects\38e116\data\d3\38e116_6targ001\38e116_6targS001R02.dat' ...
        'd:\research\subjects\38e116\data\d3\38e116_7targ001\38e116_7targS001R02.dat', ...
        'd:\research\subjects\38e116\data\d3\38e116_7targ001\38e116_7targS001R03.dat' ...
        };
    elseif (targCount==2)
        prefix = '38e116-2-';
        files = {{... %'d:\research\subjects\38e116\data\d1\38e116_ud_im_h001\38e116_ud_im_hS001R02.dat', ...
        'd:\research\subjects\38e116\data\d1\38e116_ud_im_h001\38e116_ud_im_hS001R03.dat', ...
        'd:\research\subjects\38e116\data\d1\38e116_ud_im_h001\38e116_ud_im_hS001R04.dat', ...
        'd:\research\subjects\38e116\data\d1\38e116_ud_mot_h001\38e116_ud_mot_hS001R01.dat', ...
        'd:\research\subjects\38e116\data\d1\38e116_ud_mot_h001\38e116_ud_mot_hS001R02.dat', ...
        'd:\research\subjects\38e116\data\d1\38e116_ud_mot_h001\38e116_ud_mot_hS001R03.dat', ...
        ...%'d:\research\subjects\38e116\data\d2\38e116_ud_mot_h001\38e116_ud_mot_hS001R02.dat', ...
        }};
    elseif (targCount==3)
        prefix = '38e116-3-';
        files = {{'d:\research\subjects\38e116\data\d1\38e116_3targ001\38e116_3targS001R02.dat', ...
        'd:\research\subjects\38e116\data\d2\38e116_3targ_im001\38e116_3targ_imS001R02.dat', ...
        'd:\research\subjects\38e116\data\d3\38e116_3targ001\38e116_3targS001R02.dat' ...
        }};
    elseif (targCount==5)
        prefix = '38e116-5-';
        files = {{'d:\research\subjects\38e116\data\d1\38e116_5targ001\38e116_5targS001R01.dat', ...
        'd:\research\subjects\38e116\data\d1\38e116_5targ001\38e116_5targS001R03.dat', ...
        'd:\research\subjects\38e116\data\d3\38e116_5targ001\38e116_5targS001R04.dat' ...
        }};
    elseif (targCount==6)
        prefix = '38e116-6-';
        files = {{'d:\research\subjects\38e116\data\d1\38e116_6targ001\38e116_6targS001R01.dat', ...
        'd:\research\subjects\38e116\data\d1\38e116_6targ001\38e116_6targS001R03.dat', ...
        'd:\research\subjects\38e116\data\d2\38e116_6targ_im001\38e116_6targ_imS001R02.dat', ...
        'd:\research\subjects\38e116\data\d3\38e116_6targ001\38e116_6targS001R02.dat' ...
        }};
    elseif (targCount==7)
        prefix = '38e116-7-';
        files = {{'d:\research\subjects\38e116\data\d3\38e116_7targ001\38e116_7targS001R02.dat', ...
        'd:\research\subjects\38e116\data\d3\38e116_7targ001\38e116_7targS001R03.dat' ...
        }};
    else
        error('unknown target count entered');
    end
end